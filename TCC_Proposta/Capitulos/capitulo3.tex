%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% CAPÍTULO 3
\chapter{METODOLOGIA}  
	
Como mencionado na seção \ref{sec:objetivo}, o objetivo deste trabalho é o desenvolvimento de um sistema de detecção de variações de tensão de curta duração. Esse sistema deverá analisar o sinal de onda da tensão proveniente da rede de distribuição de energia elétrica, detectar a ocorrência de variações, classificar cada ocorrência de acordo com as normas vigentes, salvar essa informação (incluindo data e hora) e disponibilizá-la online para consulta.

\section{Etapas do Trabalho}

O trabalho de conclusão de curso será organizado de acordo com as seguintes etapas:

\begin{itemize}
\item [-] Revisão bibliográfica
\item [-] Definição e estudo das tecnologias
\item [-] Aplicação dos conceitos teóricos
\item [-] Análise e validação dos resultados
\item [-] Elaboração da monografia
\end{itemize}

\subsection{Revisão Bibliográfica}

A primeira etapa será dedicada à busca por referências bibliográficas que tenham relação com o estudo de variações de tensão de curta duração. O objetivo aqui é estudar trabalhos existentes na área, assim como as principais técnicas existes para a detecção desse tipo de evento e como este trabalho poderá contribuir com o assunto.

\subsection{Definição e estudo das tecnologias}

Nesta etapa, o objetivo é o estudo prático do funcionamento dos materias que serão utilizados no trabalho, descritos no capítulo 2. Serão feitos testes com o microcontrolador PIC32MX795F512L (através da placa de desenvolvimento Cerebot MX7cK) e com o circuito integrado ADE7758, visando conhecer melhor suas características, funcionamento e métodos de comunicação entre os dois dispositivos.

Além disso, será feito um estudo quanto a configuração do microcontrolador PIC32MX795F512L como um servidor TCP/IP, com a realização de testes para sua correta operação.  

\begin{figure}[H]
\caption{Placa de desenvolvimento Cerebot MX7cK}
\centering
\includegraphics[width=8cm, height=6cm,keepaspectratio]{./Figuras/cerebot.png}
\label{fig:cerebot} \fonte{Diligent Incorporated (2013) \nocite{cerebot:mx7ck}}
\end{figure}

\subsection{Aplicação dos conceitos teóricos}

Após o estudo dos materiais que serão utilizados no projeto, a etapa de aplicação dos conceitos teóricos terá como objetivo o desenvolvimento do \textit{firmware} do sistema. Para isso, todas as normas e restrições descritas no capítulo 2 deverão ser levadas em conta para a correta detecção dos eventos de VTCD.  

Duas abordagens diferentes serão testadas no projeto. A primeira proposta envolve a utilização das funções de detecção de afundamento e de sobretensão do circuito integrado ADE7758, descritas nas seções \ref{sec:sag} e \ref{sec:swell}, além dos timers e demais periféricos do microcontrolador PIC32MX795F512L.

Para a detecção da ocorrência de afundamento de tensão, o registrador SAGLVL deverá ser configurado de acordo com os valores da tabela \ref{tab:VTCD}, ativando a interrupção quando o valor da tensão ficar abaixo de 0,9 pu por um período maior que um ciclo. Caso o valor da tensão remanescente seja igual ou menor que 0,1 pu, o evento deve ser tratado como uma interrupção de tensão.

Essa interrupção irá ativar o timer presente no microcontrolador PIC32MX795F512L, que irá permanecer ativo durante a duração do evento. De acordo com o valor final da contagem, o evento de afundamento será enquadrado em uma das categorias de VTCD, também seguindo as normas presentes na tabela \ref{tab:VTCD}.

No caso da elevação de tensão, a detecção será feita através da configuração do limite superior no registrador VPINTLVL. Caso a tensão proveninente da rede elétrica ultrapasse esse valor, o Bit 14 do registrador de interrupção é acionado para registrar a ocorrência da sobretensão. O timer do microcontrolador também será acionado, calculando o tempo total do evento e enquadrando-o em uma das categorias de VTCD.

Em ambos os casos, a função de medição de frequência do ADE7758, descrita na seção \ref{sec:freq}, será utilizada em conjunto com o timer para que seja feita a medição da quantidade de ciclos da rede, permitindo a caracterização completa de todos os eventos possíveis de VTCD.

\begin{figure}[H]
\caption{Funcionamento básico da primeira abordagem proposta}
\centering
\includegraphics[width=9cm, height=8cm,keepaspectratio]{./Figuras/Fluxograma.png}
\label{fig:abordagem1} \fonte{Autoria própria}
\end{figure}

A segunda abordagem proposta para o desenvolvimento do sistema é a utilização da medição da tensão eficaz, função do ADE7758 descrita na seção \ref{sec:rmsade}. A tensão proveniente da rede elétrica terá seu valor RMS constantemente monitorado pelo circuito integrado. O resultado dessa medição deve ser comparado com limites pré-configurados, de acordo com a tabela \ref{tab:VTCD}, enquadrando a ocorrência de variação da tensão como interrupção, afundamento ou elevação. 

O timer presente no microcontrolador PIC32MX795F512L será acionado em conjunto com a função de medição de frequência do ADE7758, no início do evento. De acordo com a duração total e com o número de ciclos da rede, o evento de VTCD será enquadrado como instântaneo, momentâneo ou temporário. 

\subsection{Análise e validação dos resultados}

Após o desenvolvimento do hardware e da programação do sistema, levando em conta as duas abordagens propostas anteriormente, a etapa de análise e validação dos resultados terá como objetivo principal testar cada um dos métodos e analisar qual deles será o mais eficiente para a solução do problema.

Utilizando os laboratórios da UTFPR e um Variac, serão realizados ensaios simulando os diversos tipos de variações de tensão de curta duração na rede elétrica. Cada um dos métodos será testado e analisado de acordo com tempo de resposta, gasto de energia e eficiência na detecção dos eventos. 

\subsection{Elaboração da monografia}    

A última etapada do trabalho consiste na elaboração do trabalho de conclusão de curso, de acordo com as normas para elaboração de trabalhos acadêmicos da UTFPR. Serão apresentados todos os passos do desenvolvimento do projeto, assim como uma análise completa dos resultados.


 

 


